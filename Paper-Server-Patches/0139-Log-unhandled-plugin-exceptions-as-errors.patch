From 668a7175d720503af840b96b7ff8d1b6b2b84902 Mon Sep 17 00:00:00 2001
From: SotrForgotten <i@omc.hk>
Date: Sat, 16 Jul 2016 06:38:55 +0800
Subject: [PATCH] Log unhandled plugin exceptions as errors


diff --git a/src/main/java/org/bukkit/craftbukkit/CraftServer.java b/src/main/java/org/bukkit/craftbukkit/CraftServer.java
index 630f3c2..808a543 100644
--- a/src/main/java/org/bukkit/craftbukkit/CraftServer.java
+++ b/src/main/java/org/bukkit/craftbukkit/CraftServer.java
@@ -657,7 +657,7 @@ public final class CraftServer implements Server {
             this.playerCommandState = true;
             return dispatchCommand(sender, serverCommand.command);
         } catch (Exception ex) {
-            getLogger().log(Level.WARNING, "Unexpected exception while parsing console command \"" + serverCommand.command + '"', ex);
+            getLogger().log(Level.SEVERE, "Unexpected exception while parsing console command \"" + serverCommand.command + '"', ex);
             return false;
         } finally {
             this.playerCommandState = false;
diff --git a/src/main/java/org/bukkit/craftbukkit/command/ConsoleCommandCompleter.java b/src/main/java/org/bukkit/craftbukkit/command/ConsoleCommandCompleter.java
index 33e8ea0..9dc1218 100644
--- a/src/main/java/org/bukkit/craftbukkit/command/ConsoleCommandCompleter.java
+++ b/src/main/java/org/bukkit/craftbukkit/command/ConsoleCommandCompleter.java
@@ -45,7 +45,7 @@ public class ConsoleCommandCompleter implements Completer {
                 return cursor - (buffer.length() - lastSpace - 1);
             }
         } catch (ExecutionException e) {
-            this.server.getLogger().log(Level.WARNING, "Unhandled exception when tab completing", e);
+            this.server.getLogger().log(Level.SEVERE, "Unhandled exception when tab completing", e);
         } catch (InterruptedException e) {
             Thread.currentThread().interrupt();
         }
diff --git a/src/main/java/org/bukkit/craftbukkit/scheduler/CraftScheduler.java b/src/main/java/org/bukkit/craftbukkit/scheduler/CraftScheduler.java
index d82dddf..c679cac 100644
--- a/src/main/java/org/bukkit/craftbukkit/scheduler/CraftScheduler.java
+++ b/src/main/java/org/bukkit/craftbukkit/scheduler/CraftScheduler.java
@@ -357,7 +357,7 @@ public class CraftScheduler implements BukkitScheduler {
                             task.getTaskId(),
                             task.getOwner().getDescription().getFullName());
                     task.getOwner().getLogger().log(
-                            Level.WARNING,
+                            Level.SEVERE,
                             msg,
                             throwable);
                     task.getOwner().getServer().getPluginManager().callEvent(
-- 
2.8.2.windows.1

